!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).tossAppBridge={})}(this,(function(e){"use strict";function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(e,n){return s=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},s(e,n)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,n,t){return u=a()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&s(o,t.prototype),o},u.apply(null,arguments)}function c(e){var n="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return u(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},c(e)}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function d(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var g=globalThis;function v(){if(null==g||!g.navigator)return"0.0.0";var e=g.navigator.userAgent,n=/TossApp\/((\d+).(\d+).(\d+))/g.exec(e);return n?n[1]:"0.0.0"}function m(){return!(void 0===g||!g.navigator)&&g.navigator.userAgent.toLowerCase().includes("android")}function b(){if(void 0===g||!g.navigator)return!1;var e=g.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)}function y(){var e;return null!=(null==g||null===(e=g.__toss)||void 0===e?void 0:e.appBridgeEnvironment)?g.__toss.appBridgeEnvironment:{type:h(),appVersion:v()}}function h(){if(void 0!==g&&(void 0!==g.TossApp||null!=(null===(e=g.webkit)||void 0===e?void 0:e.messageHandlers)&&g.navigator&&g.navigator.userAgent.toLowerCase().includes("tossapp"))){if(b())return"toss-ios-web";if(m())return"toss-android-web"}else{if(b())return"browser-ios";if(m())return"browser-android"}var e;return"browser-unknown"}function w(){switch(y().type){case"browser-android":case"toss-android-rn":case"toss-android-web":return!0;default:return!1}}function _(){switch(y().type){case"browser-ios":case"toss-ios-rn":case"toss-ios-web":return!0;default:return!1}}function A(){switch(y().type){case"toss-ios-rn":case"toss-ios-web":case"toss-android-rn":case"toss-android-web":return!0;default:return!1}}var S={get type(){switch(y().type){case"toss-ios-web":case"toss-ios-rn":return"ios-toss";case"toss-android-rn":case"toss-android-web":return"android-toss";case"browser-ios":return"ios-not-toss";case"browser-android":return"android-not-toss";default:return"unknown"}},get isIos(){return _()},get isAos(){return w()},get isAndroid(){return w()},get isTossApp(){return A()},get isTossIos(){return _()&&A()},get isTossAos(){return w()&&A()},get isTossAndroid(){return w()&&A()},get isRN(){return function(){switch(y().type){case"toss-android-rn":case"toss-ios-rn":return!0;default:return!1}}()}};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var O=function(e,n){return e(n={exports:{}},n.exports),n.exports}((function(e,n){e.exports=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function n(e,n){return-1===e.indexOf(n)?e.length:e.indexOf(n)}function t(e){var t=e.replace(/^v/,"").replace(/\+.*$/,""),r=n(t,"-"),o=t.substring(0,r).split(".");return o.push(t.substring(r+1)),o}function r(e){return isNaN(Number(e))?e:Number(e)}function o(n){if("string"!=typeof n)throw new TypeError("Invalid argument expected string");if(!e.test(n))throw new Error("Invalid argument not valid semver ('"+n+"' received)")}return function(e,n){[e,n].forEach(o);for(var i=t(e),s=t(n),a=0;a<Math.max(i.length-1,s.length-1);a++){var u=parseInt(i[a]||0,10),c=parseInt(s[a]||0,10);if(u>c)return 1;if(c>u)return-1}var l=i[i.length-1],d=s[s.length-1];if(l&&d){var f=l.split(".").map(r),p=d.split(".").map(r);for(a=0;a<Math.max(f.length,p.length);a++){if(void 0===f[a]||"string"==typeof p[a]&&"number"==typeof f[a])return-1;if(void 0===p[a]||"string"==typeof f[a]&&"number"==typeof p[a])return 1;if(f[a]>p[a])return 1;if(p[a]>f[a])return-1}}else if(l||d)return l?-1:1;return 0}}()}));function T(){return y().appVersion}function k(e){var n=e.ios,t=e.android;return{ios:"string"==typeof n?{web:n,rn:n}:n,android:"string"==typeof t?{web:t,rn:t}:t}}function E(e){return"always"===e?"0.0.0":"never"===e?"999.99.99":e}var x="5.79.0",j="5.72.0";function C(e){if(!S.isTossApp)return!1;var n=k(e),t={ios:n.ios.web,android:n.android.web},r={ios:P(E(n.ios.rn),x),android:P(E(n.android.rn),j)},o=S.isRN?r:t,i=S.isTossIos?E(o.ios.trim()):S.isTossAos?E(o.android.trim()):"0.0.0",s=T();return O(s,i)>=0}function P(e,n){return O(e,n)>0?e:n}function B(e,n){var t=n.isSupported;return Object.defineProperty(e,"isSupported",{get:t}),e}var M=B((function(e){Se({name:"addAccessoryButton",params:t({},e)})}),{schema:void 0,isSupported:function(){return C({ios:{web:"4.1.0",rn:"never"},android:{web:"4.2.0",rn:"never"}})}}),N=B((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pendingDismiss:!1};Se({name:"close",params:e})}),{schema:void 0,isSupported:function(){return C({ios:"always",android:"4.20.0"})}}),D=B((function(){Se({name:"removeAccessoryButton"})}),{schema:void 0,isSupported:function(){return C({android:{web:"4.2.0",rn:"never"},ios:{web:"4.1.0",rn:"never"}})}}),W=B((function(e){Se({name:"setBackPressHandler",params:e})}),{schema:void 0,isSupported:function(){return C({ios:"4.76.0",android:"4.78.0"})}}),I=B((function(){Se({name:"setBackPressHandler",params:{}})}),{schema:void 0}),L=B((function(e){Se({name:"setNavType",params:e})}),{schema:void 0,isSupported:function(){return C({ios:{web:"4.78.0",rn:"never"},android:{web:"4.79.0",rn:"never"}})}}),V=["button","position","icon"],R=B((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.button,o=n.position,i=n.icon,s=l(n,V),a=void 0===r?void 0:t({style:"fill",type:"primary"},r),u=void 0===o?void 0:{bottom:o.bottom?String(o.bottom):void 0,top:o.top?String(o.top):void 0};Se({name:"showToast",params:t({message:e,button:a,position:u,icon:i&&U(i)},s)})}),{schema:void 0});function U(e){var n=e.startsWith("icn-")||e.startsWith("icon-")?e:"icn-".concat(e);return"https://static.toss.im/icons/png/4x/".concat(n,".png")}var H=B((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Se({name:"updateHistoryState",params:e})}),{schema:void 0});function F(e){return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+1e3+4e3+8e3+1e11).replace(/[018]/g,F)}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.prefix,t=void 0===n?"":n;return"_tab_cb_".concat(t,"_").concat(F())}var J="\n  display: inline-block;\n  padding: 2px 4px;\n  color: #fff;\n";function $(e){var n=e.title,t=e.titleStyle,r="%cTossAppBridge%c".concat(n,"%c"),o=["".concat(J,"\n    background-color: #999;"),"".concat(J,"\n    background-color: #0d64ad;\n    ").concat(t),""];function i(e){var n=e.message,t=e.style;r="".concat(r).concat(void 0===t?"":"%c").concat(n),void 0!==t&&o.push(t)}return{log:function(){var e;return(e=console).debug.apply(e,[r].concat(o))},append:i,appendLine:function(e){var n=e.message,t=e.style;i({message:"\n"}),i({message:n,style:t})}}}function K(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.titleStyle;if("undefined"!=typeof process&&"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV){var o=$({title:e,titleStyle:r});Array.isArray(n)?(n.forEach((function(e){var n=Array.isArray(e),t=n?"\n".concat("".concat(e[0]," ").padEnd(40,"-")):"";o.appendLine({message:"".concat(t)}),q(n?e[1]:e).forEach(o.append)})),o.log()):q(n).forEach(o.append)}}function q(e){return void 0===e?[]:Object.keys(e).map((function(n){return[{message:"\n"},{message:"[".concat(n,"] ")},{message:(t=JSON.stringify(e[n]),{orElse:function(e){return void 0===t?e:t}}).orElse("undefined").replace(/\\n/g,"\n"),style:"font-weight: 700;"}];var t})).reduce((function(e,n){return[].concat(f(e),f(n))}),[])}var G,X,Y={warn:function(e){return K(e.title,e.target,{titleStyle:"\n      background-color: #519cea;\n    "})},log:K};function Q(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.prefix,r=g;null!=r&&r.tossWebBridge||(r.tossWebBridge={}),null!=r&&r.tossWebBridge._callbacks||(r.tossWebBridge._callbacks={});var o=z({prefix:t}),i=Z(e);if(void 0!==i)return r.tossWebBridge._callbacks[o]=i,"(\n    function(){\n      return (\n        typeof tossWebBridge !== 'undefined' &&\n        typeof tossWebBridge._callbacks.".concat(o," === 'function' &&\n        tossWebBridge._callbacks.").concat(o,".apply(tossWebBridge._callbacks, arguments)\n      );\n    }\n  )").replace(/(\n|\s{2,})/g," ");Y.warn({title:"RegisterCallback argument invariant not matched",target:{message:"Only functions or global function names (properties of window) can be supplied to registerCallback."}})}function Z(e){if("function"==typeof e)return e;var n=g[e];return void 0!==n?n:void 0}function ee(e,n){if(void 0!==n){var t={};for(var r in n){var o=n[r];ne(o)?t[r]=ee(e,o):t[r]="function"==typeof o?Q(o,{prefix:e})||"":o}return t}}function ne(e){return null!=e&&"object"===r(e)&&e.constructor===Object&&!Array.isArray(e)}!function(e){e.android="android",e.ios="ios",e.web="web"}(G||(G={})),function(e){e.leanplum="leanplum",e.toss="toss",e.facebook="facebook",e.appsflyer="appsflyer"}(X||(X={}));var te=[X.toss];function re(){switch(y().type){case"toss-android-rn":case"toss-android-web":return!0;default:return!1}}function oe(){switch(y().type){case"toss-ios-rn":case"toss-ios-web":return!0;default:return!1}}function ie(){return function(e,n){function t(e){var t=k(e),o=r({ios:function(){return t.ios.web},android:function(){return t.android.web},web:function(){return"0.0.0"}});return O(n,E(o))>=0}function r(n){return e===G.web&&void 0!==n.web?n.web():e===G.android&&void 0!==n.android?n.android():e===G.ios&&void 0!==n.ios?n.ios():void 0}function o(n){var r=n.minimumVersion;return e!==G.web&&(void 0===r||t(r))}return{isIOS:e===G.ios,isAndroid:e===G.android,isWeb:e===G.web,match:r,isAtLeast:t,doesSupport:o,os:e,appVersion:n}}(se(),T())}function se(){return re()?G.android:oe()?G.ios:G.web}function ae(e){return Object.keys(e).filter((function(n){return void 0!==e[n]})).reduce((function(n,r){return t(t({},n),{},o({},r,"".concat(e[r])))}),{action_type:"WB"})}function ue(e){return Object.keys(e).filter((function(n){return void 0!==e[n]})).reduce((function(n,r){return t(t({},n),{},o({},r,e[r]))}),{})}function ce(e,n,t){switch(y().type){case"toss-ios-web":!function(e,n,t){var r,o,i,s;null===(r=g.webkit.messageHandlers.tosWebViewEventLog)||void 0===r||r.postMessage({log_type:e,log_name:null!==(o=null===(i=n.log_name)||void 0===i?void 0:i.toString())&&void 0!==o?o:"toss_log",service:null===(s=n.service)||void 0===s?void 0:s.toString(),company:t,params:n})}(e,n,t);break;case"toss-android-web":!function(e,n,t){var r,o,i,s,a,u,c,l,d,f,p,v,m,b,y,h,w,_,A,S,O,T,k=null!==(r=null===(o=n.log_name)||void 0===o?void 0:o.toString())&&void 0!==r?r:"toss_log",E=JSON.stringify(n);if(null!=t&&C({ios:"never",android:"5.34.0"}))switch(e){case"error":null===(i=(s=g.TossApp).logError)||void 0===i||i.call(s,k,k,E,t);break;case"debug":null===(a=(u=g.TossApp).logDebug)||void 0===a||a.call(u,k,k,E,t);break;case"info":null===(c=(l=g.TossApp).logInfo)||void 0===c||c.call(l,k,k,E,t);break;case"warning":null===(d=(f=g.TossApp).logWarning)||void 0===d||d.call(f,k,k,E,t);break;default:null===(p=(v=g.TossApp).log)||void 0===p||p.call(v,e,k,E,t)}else switch(e){case"error":null===(m=(b=g.TossApp).logError)||void 0===m||m.call(b,k,k,E);break;case"debug":null===(y=(h=g.TossApp).logDebug)||void 0===y||y.call(h,k,k,E);break;case"info":null===(w=(_=g.TossApp).logInfo)||void 0===w||w.call(_,k,k,E);break;case"warning":null===(A=(S=g.TossApp).logWarning)||void 0===A||A.call(S,k,k,E);break;default:null===(O=(T=g.TossApp).log)||void 0===O||O.call(T,e,k,E)}}(e,n,t)}}var le={log:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;ce(e,t({log_name:n},r),o)},debug:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;ce("debug",t(t({},n),{},{log_name:e}),r)},info:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;ce("info",t(t({},n),{},{log_name:e}),r)},warning:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;ce("warning",t(t({},n),{},{log_name:e}),r)},error:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;ce("error",t(t({},n),{},{log_name:e}),r)}};function de(e){Y.log("PostMessage",[{name:e.name},["params",e.params],["raw message",e]])}function fe(e,n,r,o){return C({ios:"never",android:"4.85.0"})?{log_type:n.log_type,schema_id:e,params:ae(n),_trackers:r,_immediate:o}:{params:ae(t(t({},n),{},{schema_id:e,is_transform:!0})),_trackers:r,_immediate:o}}function pe(e,n,r){var o="test";return C({ios:"4.84.0",android:"never"})?{schema_id:e,params:ue(n),_immediate:r}:{log_type:"event",log_name:o,service:o,params:t(t({},ue(n)),{},{schema_id:e,is_transform:!0}),_immediate:r}}var ge=function(){switch(S.type){case"ios-toss":return{postMessage:function(e){var n,r;de(e);var o=t(t({},e),{},{params:ee(e.name,e.params)});null===(n=g.webkit.messageHandlers)||void 0===n||null===(r=n.tosWebViewAction)||void 0===r||r.postMessage(o)},log:{schema:function(e){var n,t,r=pe(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>3?arguments[3]:void 0);null===(n=g.webkit.messageHandlers)||void 0===n||null===(t=n.tosWebViewEventLog)||void 0===t||t.postMessage(r)}}};case"android-toss":return{postMessage:function(e){var n,r;de(e);var o=t(t({},e),{},{params:ee(e.name,e.params)});null===(n=g.TossApp)||void 0===n||null===(r=n.postMessage)||void 0===r||r.call(n,JSON.stringify(o))},log:{schema:function(e){var n,t,r=fe(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:te,arguments.length>3?arguments[3]:void 0);null===(n=g.TossApp)||void 0===n||null===(t=n.sendLog)||void 0===t||t.call(n,JSON.stringify(r))}}};default:return{postMessage:function(){},log:{schema:function(){}}}}},ve=function(){var e,n,t=ge(),r=null==g||null===(e=g.__toss)||void 0===e||null===(n=e.appBridgeConfig)||void 0===n?void 0:n.handler;return null!=r?function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{postMessage:function(e){n.forEach((function(n){n.postMessage(e)}))},log:{schema:function(e,t,r,o){n.forEach((function(n){n.log.schema(e,t,r,o)}))}}}}(r,t):t};var me,be,ye=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&s(e,n)}(o,e);var n,t,r=(n=o,t=a(),function(){var e,r=i(n);if(t){var o=i(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return d(this,e)});function o(e){var n,t,i,s;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),(s=r.call(this,null!==(n=e.message)&&void 0!==n?n:"요청을 처리하던 중 오류가 발생했습니다.")).name=e.name,s.code=null!==(t=e.code)&&void 0!==t?t:"UNKNOWN",s.type=o.type,s.raw=null!==(i=e.rawError)&&void 0!==i?i:e,s}return o}(c(Error));function he(e,n){return function(o){var i;"object"!==r(i=o)||null==i||"string"!=typeof i.message&&"string"!=typeof i.code?n(new ye({name:e,rawError:o,message:"알 수 없는 오류가 발생했습니다.",code:"UNKNOWN"})):n(new ye(t(t({},o),{},{name:e})))}}function we(e){return new Promise((function(n,r){var o="sendPDF";Se({name:o,params:t(t({},e),{},{callback:function(e){n(null!=e?e:null)},onSuccess:function(e){n(null!=e?e:null)},onError:he(o,r)})})}))}o(ye,"type","app_bridge"),function(e){e["인앱_뷰어"]="in-app",e["외부앱_뷰어"]="external"}(me||(me={})),function(e){e["CTA_버튼_클릭"]="CTA_TAPPED",e["백버튼_혹은_스와이프_백"]="CLOSE"}(be||(be={})),we.isUserClosingActionSupported=C({ios:"5.23.0",android:"5.22.0"}),we.isCtaTitleSupported=C({ios:"5.21.0",android:"5.22.0"});var _e=B(we,{schema:void 0,isSupported:function(){return C({ios:"always",android:"always"})}});function Ae(e){var n,t,r;de(e),(null===(n=null==g||null===(t=g.__toss)||void 0===t||null===(r=t.appBridgeConfig)||void 0===r?void 0:r.serializeCallbacks)||void 0===n||n)&&(e.params=ee(e.name,e.params)),ve().postMessage(e)}function Se(e){Ae(e)}var Oe=C({ios:"5.2.0",android:"5.2.0"}),Te=C({ios:"5.7.0",android:"5.7.0"}),ke=C({ios:"5.24.0",android:"5.22.1"});function Ee(e){var n;if(Y.log("Share",[["shareMessage",e]]),"imageData"in e){if(!ke)return;Ae({name:"share",params:{imageData:e.imageData.replace(/^data:image\/png;base64,/,""),isVisibleChatAndContacts:!1}})}else if(Oe&&null!=e.messageForTossChatShare){var t=null!==(n=e.method)&&void 0!==n?n:"toss-chat",r=e.message.trim();if(null==e.messageForTossChatShare)return C({ios:"always",android:"5.6.0"})?void xe(e):void Ae({name:"share",params:{enableLog:!0,isVisibleChatAndContacts:"toss-chat"===t,message:r,messageInApp:{title:{error:"error"}}}});var o=e.messageForTossChatShare;switch(o.type){case"TEXT_CARD":if(Te){var i=o.title,s=o.content,a=o.cta;Ae({name:"share",params:{enableLog:!0,isVisibleChatAndContacts:"toss-chat"===t,message:r,messageInApp:{title:i,content:s,ctaText:null==a?void 0:a.text,ctaLinkUrl:null==a?void 0:a.url}}})}else xe(e);return;case"IMAGE_CARD":var u=o.title,c=o.content,l=o.imageUrl,d=o.imageRatio,f=o.cta;return void Ae({name:"share",params:{enableLog:!0,isVisibleChatAndContacts:"toss-chat"===t,message:r,messageInApp:{title:u,content:c,imageUrl:l,imageRatio:d,ctaText:null==f?void 0:f.text,ctaLinkUrl:null==f?void 0:f.url}}});case"LOTTIE_CARD":var p=o.title,g=o.content,v=o.lottieUrl,m=o.cta;Ae({name:"share",params:{enableLog:!0,isVisibleChatAndContacts:"toss-chat"===t,message:r,messageInApp:{title:p,content:g,lottieUrl:v,ctaText:null==m?void 0:m.text,ctaLinkUrl:null==m?void 0:m.url}}})}}else xe(e)}function xe(e){var n=e.message,t=e.method,r=void 0===t?"toss-chat":t;ie().match({ios:function(){Ae({name:"share",params:{enableLog:!0,isVisibleChatAndContacts:"toss-chat"===r,message:n}})},android:function(){return function(e){g.TossApp.sendMessage("공유하기","",e,"")}(n)}})}Ee.minimumVersion={ios:"2.22.0",android:"3.1.0"};var je,Ce=(je=new Date).getFullYear().toString()+(je.getMonth()+1).toString()+je.getDate().toString()+je.getHours().toString().padStart(2,"0")+je.getMinutes().toString().padStart(2,"0");e.TossLog=le,e.addAccessoryButton=M,e.bundleVersion=Ce,e.closeWebView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.nextUrl,t=e.pendingDismiss;N({url:n,pendingDismiss:t})},e.getAppVersion=T,e.getEnvironment=ie,e.getOS=se,e.getScreenName=function(){var e=document.querySelector('meta[name="screen_name"]'),n=e&&e.getAttribute("content").split(",")[0]||"";return Y.log("ScreenName",{name:n}),n},e.onAndroid=re,e.oniOS=oe,e.postMessage=Ae,e.removeAccessoryButton=D,e.sendPDF=_e,e.setBackPressHandler=W,e.setNavType=L,e.share=Ee,e.showToast=R,e.unsetBackPressHandler=I,e.updateHistoryState=H,Object.defineProperty(e,"__esModule",{value:!0})}));
